<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Surprise</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;600&display=swap');
        
        body { font-family: 'Quicksand', sans-serif; overflow: hidden; background: #ffe4e6; }
        .neon-glow { text-shadow: 0 0 15px rgba(255, 20, 147, 0.7); }
        
        /* Floating Hearts Background */
        .heart-bg { position: fixed; top: -10%; font-size: 20px; color: rgba(255, 105, 180, 0.4); animation: fall linear infinite; z-index: -1; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        /* Smooth Cake Slide */
        #cake-container { transition: transform 2s cubic-bezier(0.175, 0.885, 0.32, 1.275); transform: translateY(100%); }
        #cake-container.show { transform: translateY(0); }

        /* Hanging Banner Sway */
        .flag { display: inline-block; animation: flagSway 3s ease-in-out infinite alternate; transform-origin: top; }
        @keyframes flagSway { from { transform: rotate(-3deg); } to { transform: rotate(3deg); } }

        /* Curtain Styling */
        .curtain-panel { transition: transform 2s ease-in-out; background: #b91c1c; border: 2px solid #fbbf24; }
        
        /* Balloon Animation */
        .balloon-anim { position: absolute; bottom: -100px; animation: floatUp 5s ease-in forwards; }
        @keyframes floatUp { 0% { bottom: -100px; opacity: 1; } 100% { bottom: 110vh; opacity: 0; } }
    </style>
</head>
<body>

    <div id="heart-container"></div>

    <div id="app" class="h-screen w-screen flex flex-col items-center justify-center p-4">
        
        <div id="page-start" class="text-center space-y-6">
            <h1 class="text-xl font-bold text-gray-700 animate__animated animate__fadeIn">Happy Birthday [Name] üéÇ</h1>
            <h2 class="text-5xl font-bold text-pink-500 neon-glow animate__animated animate__pulse animate__infinite">It's Your Birthday!</h2>
            <button onclick="transition('page-start', 'page-slide')" class="bg-[#f02e65] text-white px-10 py-4 rounded-full text-xl font-bold shadow-lg transform active:scale-95 transition">üéÄ Let's Celebrate</button>
        </div>

        <div id="page-slide" class="hidden bg-white/90 backdrop-blur-sm rounded-[2rem] p-8 shadow-2xl w-full max-w-xs text-center border-4 border-white">
            <div id="slide-content">
                <div class="text-4xl mb-4">‚ú®</div>
                <h3 id="slide-text" class="text-2xl font-bold text-gray-800 mb-6">It's Your Special Day Yeyey!</h3>
                <div id="slide-btns" class="flex flex-col gap-3">
                    <button onclick="handleSlide(1)" class="bg-[#f02e65] text-white py-3 rounded-2xl font-bold">Next</button>
                </div>
                <div class="flex justify-center gap-2 mt-6">
                    <div id="dot-1" class="w-2 h-2 rounded-full bg-pink-500"></div>
                    <div id="dot-2" class="w-2 h-2 rounded-full bg-gray-300"></div>
                    <div id="dot-3" class="w-2 h-2 rounded-full bg-gray-300"></div>
                </div>
            </div>
        </div>

        <div id="page-main" class="hidden w-full h-full flex flex-col items-center pt-20">
            <h2 class="text-3xl font-bold text-pink-600 mb-8">Let's Celebrate! ü•≥</h2>
            
            <div id="light-row" class="flex gap-3 mb-12 h-4"></div>

            <button id="mainBtn" onclick="nextMainStep()" class="bg-yellow-400 text-gray-800 px-8 py-3 rounded-full font-bold shadow-xl z-50 transition-all hover:bg-yellow-300">üí° Turn On The Lights</button>

            <div id="banner" class="hidden mt-12 flex flex-wrap justify-center gap-1"></div>

            <div id="cake-container" class="mt-auto mb-10 opacity-0">
                <img src="https://cdn-icons-png.flaticon.com/512/3132/3132693.png" class="w-40 md:w-56" alt="Cake">
            </div>
        </div>

        <div id="page-curtain" class="hidden w-full max-w-sm flex flex-col items-center">
            <h2 class="text-xl font-bold text-pink-600 mb-4">üíå A Message From My Heart</h2>
            <div class="relative w-full h-80 bg-white rounded-2xl shadow-xl overflow-hidden border-4 border-white">
                <div id="l-curtain" class="curtain-panel absolute inset-y-0 left-0 w-1/2 z-30"></div>
                <div id="r-curtain" class="curtain-panel absolute inset-y-0 right-0 w-1/2 z-30"></div>
                <div class="p-6 h-full overflow-y-auto text-gray-700 italic text-sm leading-relaxed">
                    <p>My Dearest Madam Ji,</p>
                    <p class="mt-2">This is the long letter I wrote for you. I hope it brings a smile to your face just like you bring one to mine every single day...</p>
                    <p class="mt-4">You are special, you are unique, and you deserve the world.</p>
                </div>
            </div>
            <button id="curtainBtn" onclick="openCurtains()" class="mt-4 text-pink-600 font-bold underline">‚ú® Click to Open ‚ú®</button>
            <button onclick="transition('page-curtain', 'page-gallery')" class="mt-8 bg-[#f02e65] text-white px-6 py-2 rounded-full shadow-lg">üì∑ View Our Memories</button>
        </div>

    </div>

    <audio id="bgMusic" src="your-music-file.mp3" loop></audio>

    <script>
        let currentSlide = 1;
        let mainStep = 0;

        // 1. Background Heart Rain
        function createHearts() {
            const container = document.getElementById('heart-container');
            const heart = document.createElement('div');
            heart.innerHTML = Math.random() > 0.5 ? '‚ù§Ô∏è' : 'üíñ';
            heart.className = 'heart-bg';
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
            container.appendChild(heart);
            setTimeout(() => heart.remove(), 7000);
        }
        setInterval(createHearts, 400);

        function transition(from, to) {
            document.getElementById(from).classList.add('hidden');
            const next = document.getElementById(to);
            next.classList.remove('hidden');
            next.classList.add('animate__animated', 'animate__fadeIn');
        }

        function handleSlide(step) {
            if(step === 1) {
                document.getElementById('slide-text').innerText = "Do you wanna see what I made??";
                document.getElementById('slide-btns').innerHTML = `
                    <div class="flex gap-2">
                        <button onclick="handleSlide(2)" class="bg-[#f02e65] text-white py-3 rounded-2xl font-bold flex-1">Yes!</button>
                        <button onclick="this.style.transform='scale(0.8)'" class="bg-purple-500 text-white py-3 rounded-2xl font-bold flex-1">No</button>
                    </div>`;
                updateDots(2);
            } else if(step === 2) {
                document.getElementById('slide-text').innerText = "Have a look at it, Madam Jiii";
                document.getElementById('slide-btns').innerHTML = `<button onclick="transition('page-slide', 'page-main')" class="bg-[#f02e65] text-white py-3 rounded-2xl font-bold w-full">Let's Go! üéâ</button>`;
                updateDots(3);
            }
        }

        function updateDots(active) {
            for(let i=1; i<=3; i++) {
                document.getElementById(`dot-${i}`).className = `w-2 h-2 rounded-full ${i===active ? 'bg-pink-500' : 'bg-gray-300'}`;
            }
        }

        function nextMainStep() {
            mainStep++;
            const btn = document.getElementById('mainBtn');
            if(mainStep === 1) {
                // Sequence Lights
                const colors = ['#f43f5e', '#fbbf24', '#22c55e', '#3b82f6', '#a855f7'];
                for(let i=0; i<10; i++) {
                    setTimeout(() => {
                        const light = document.createElement('div');
                        light.className = "w-4 h-4 rounded-full shadow-[0_0_10px_white] animate__animated animate__flash animate__infinite";
                        light.style.backgroundColor = colors[i % colors.length];
                        document.getElementById('light-row').appendChild(light);
                    }, i * 300);
                }
                btn.innerText = "üéµ Play Music";
            } else if(mainStep === 2) {
                document.getElementById('bgMusic').play();
                btn.innerText = "üé® Decorate";
            } else if(mainStep === 3) {
                // Swaying Banner
                document.getElementById('banner').classList.remove('hidden');
                "HAPPY BIRTHDAY".split('').forEach((l, i) => {
                    const span = document.createElement('span');
                    span.innerText = l === ' ' ? '\u00A0' : l;
                    span.className = "flag text-2xl font-bold text-pink-600 px-1";
                    span.style.animationDelay = `${i * 0.1}s`;
                    document.getElementById('banner').appendChild(span);
                });
                // Slide Up Cake
                const cake = document.getElementById('cake-container');
                cake.classList.remove('opacity-0');
                cake.classList.add('show');
                btn.innerText = "üéà Fly The Balloons";
            } else if(mainStep === 4) {
                spawnBalloons();
                btn.innerText = "Well, I have a message for you Madam Ji";
            } else {
                transition('page-main', 'page-curtain');
            }
        }

        function spawnBalloons() {
            for(let i=0; i<20; i++) {
                setTimeout(() => {
                    const b = document.createElement('div');
                    b.className = "balloon-anim text-6xl";
                    b.innerText = Math.random() > 0.5 ? 'üéà' : 'üíù';
                    b.style.left = Math.random() * 90 + 'vw';
                    document.body.appendChild(b);
                }, i * 300);
            }
        }

        function openCurtains() {
            document.getElementById('l-curtain').style.transform = 'translateX(-100%)';
            document.getElementById('r-curtain').style.transform = 'translateX(100%)';
            document.getElementById('curtainBtn').style.display = 'none';
        }
    </script>
</body>
</html>
