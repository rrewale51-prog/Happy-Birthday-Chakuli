<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Happy Birthday Kukuli</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&family=Dancing+Script:wght@700&display=swap');
        
        body { font-family: 'Quicksand', sans-serif; overflow-x: hidden; background-color: #ffe4e6; transition: all 1.5s ease; margin: 0; }
        .cursive { font-family: 'Dancing Script', cursive; }

        /* --- COUNTDOWN STYLES --- */
        #countdown-overlay { position: fixed; inset: 0; background: radial-gradient(circle, #ffafbd 0%, #ffc3a0 100%); z-index: 1000; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .glass-timer { background: rgba(255, 255, 255, 0.25); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); padding: 2rem; border-radius: 2.5rem; box-shadow: 0 8px 32px 0 rgba(240, 46, 101, 0.37); text-align: center; border: 2px solid rgba(255, 255, 255, 0.5); animation: float 3s ease-in-out infinite; width: 90%; max-width: 450px; }
        .timer-unit { background: white; padding: 0.75rem; border-radius: 1rem; min-width: 70px; display: flex; flex-direction: column; align-items: center; }
        .timer-num { font-size: 2rem; font-weight: 800; color: #f02e65; line-height: 1; }
        .timer-label { font-size: 0.6rem; text-transform: uppercase; color: #f02e65; font-weight: 700; margin-top: 4px; }
        @keyframes float { 0%, 100% { transform: translateY(0px); } 50% { transform: translateY(-15px); } }

        /* --- SLIDER STYLES --- */
        .slider-viewport { width: 100%; max-width: 350px; overflow: hidden; border-radius: 2rem; background: white; box-shadow: 0 25px 50px rgba(0,0,0,0.1); border: 4px solid white; }
        .slider-track { display: flex; width: 300%; transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1); }
        .slide-unit { width: 33.333%; padding: 2rem; text-align: center; flex-shrink: 0; }

        /* --- PARTY STYLES --- */
        .flag { display: inline-block; animation: sway 3s ease-in-out infinite alternate; background: #f02e65; color: white; padding: 6px 10px; border-radius: 0 0 8px 8px; margin: 2px; font-weight: bold; }
        @keyframes sway { from { transform: rotate(-5deg); } to { transform: rotate(5deg); } }
        .balloon { position: fixed; bottom: -100px; font-size: 3rem; animation: floatUp 6s ease-in forwards; z-index: 100; }
        @keyframes floatUp { 0% { bottom: -100px; opacity: 1; } 100% { bottom: 120vh; opacity: 0; } }

        /* --- LETTER STYLES --- */
        .curtain { transition: transform 2s cubic-bezier(0.4, 0, 0.2, 1); background: #991b1b; z-index: 20; border: 1px solid #7f1d1d; }
        .marathi-poem { background: #fff5f7; border-left: 4px solid #f02e65; padding: 1rem; border-radius: 8px; font-style: italic; margin: 1.5rem 0; }
        .heart { position: fixed; top: -10%; color: rgba(255, 105, 180, 0.6); animation: fall linear infinite; z-index: 0; pointer-events: none; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }
    </style>
</head>
<body>

    <div id="countdown-overlay">
        <div class="glass-timer">
            <h2 class="text-xl font-bold text-white mb-6">Unlocking In...</h2>
            <div class="flex justify-center gap-2">
                <div class="timer-unit"><span id="days" class="timer-num">00</span><span class="timer-label">Days</span></div>
                <div class="timer-unit"><span id="hours" class="timer-num">00</span><span class="timer-label">Hrs</span></div>
                <div class="timer-unit"><span id="mins" class="timer-num">00</span><span class="timer-label">Mins</span></div>
                <div class="timer-unit"><span id="secs" class="timer-num">00</span><span class="timer-label">Secs</span></div>
            </div>
        </div>
    </div>

    <div id="particles"></div>

    <div id="flow-container" class="min-h-screen flex flex-col items-center justify-center p-4 relative z-10">
        
        <div id="stage-start" class="text-center space-y-6 animate__animated animate__fadeIn">
            <h1 class="text-xl font-bold text-gray-800">Happy Birthday <span class="text-pink-600">My Blessing Jii</span> ğŸ‚</h1>
            <h2 class="text-5xl font-bold text-pink-500 animate__animated animate__pulse animate__infinite">It's Your Day!</h2>
            <button onclick="toOnboarding()" class="bg-[#f02e65] text-white px-10 py-4 rounded-full text-lg font-bold shadow-xl">ğŸ€ Let's Celebrate</button>
        </div>

        <div id="stage-onboarding" class="hidden animate__animated animate__zoomIn">
            <div class="slider-viewport">
                <div id="track" class="slider-track">
                    <div class="slide-unit space-y-4">
                        <div class="text-5xl">âœ¨</div>
                        <h3 class="text-xl font-bold">Ready for the surprise?</h3>
                        <button onclick="move(1)" class="bg-[#f02e65] text-white w-full py-3 rounded-xl font-bold">Next</button>
                    </div>
                    <div class="slide-unit space-y-4">
                        <div class="text-5xl">ğŸ</div>
                        <h3 class="text-xl font-bold">Wanna see what I made?</h3>
                        <div class="flex gap-2">
                            <button onclick="move(2)" class="bg-[#f02e65] text-white flex-1 py-3 rounded-xl font-bold">Yes!</button>
                            <button id="noBtn" onmouseover="dodge()" class="bg-gray-400 text-white flex-1 py-3 rounded-xl font-bold">No</button>
                        </div>
                    </div>
                    <div class="slide-unit space-y-4">
                        <div class="text-5xl">ğŸ’–</div>
                        <h3 class="text-xl font-bold">Have a look, Shraddha Jiii</h3>
                        <button onclick="toParty()" class="bg-[#f02e65] text-white w-full py-3 rounded-xl font-bold">Let's Go! ğŸ‰</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="stage-party" class="hidden w-full flex flex-col items-center">
            <h2 id="party-title" class="text-3xl font-bold text-pink-600 mb-6 cursive">Let's Celebrate! ğŸ¥³</h2>
            <div id="light-row" class="flex gap-2 h-6 mb-12"></div>
            <button id="partyBtn" onclick="advanceParty()" class="bg-yellow-400 text-gray-900 px-8 py-3 rounded-full font-bold shadow-xl z-50">ğŸ’¡ Turn On Lights</button>
            <div id="banner-area" class="mt-8 flex flex-wrap justify-center gap-1"></div>
            <div id="cake" class="mt-12 hidden opacity-0 transition-all duration-1000 flex flex-col items-center">
                <div class="text-6xl animate-bounce">ğŸ‚</div>
                <div class="text-pink-500 font-bold mt-2">Make a wish!</div>
            </div>
        </div>

        <div id="stage-letter" class="hidden w-full max-w-sm flex flex-col items-center animate__animated animate__fadeIn">
            <h2 class="text-2xl font-bold text-pink-600 mb-4 cursive">A Message From My Heart</h2>
            <div class="relative w-full h-[65vh] bg-white rounded-[2rem] shadow-2xl overflow-hidden border-4 border-white">
                <div id="curt-l" class="curtain absolute inset-y-0 left-0 w-1/2"></div>
                <div id="curt-r" class="curtain absolute inset-y-0 right-0 w-1/2"></div>
                
                <div class="p-6 h-full overflow-y-auto text-gray-700 text-sm leading-relaxed">
                    <p class="font-bold text-pink-600 text-lg mb-4">Dearest Shraddha,</p>
                    <p class="mb-4">Today is a gentle reminder that every ending is simply the threshold of a new adventure. <b>What is grief, if not love persevering?</b> ğŸ¤</p>
                    
                    <h4 class="font-bold text-pink-500 mt-6 mb-2">ğŸ—ºï¸ The Geometry of Destiny</h4>
                    <p class="mb-4">Even if the story remains <i>Apurna</i>, I still won because I found you. Out of nowhere, you chose a person like me to be your friendâ€”your <b>safe place</b>. I am forever grateful, <b>Chakuli</b>. ğŸŒŠ</p>

                    <h4 class="font-bold text-pink-500 mt-6 mb-2">ğŸ¥¥ The "Naral" Heart</h4>
                    <p class="mb-4">I asked you: <i>"Jauya ka Sudamati Kamat kade Kaakan denya saathi?"</i> ğŸ¥¥ Your smile is like a coconut; tough outside, but pure and fragile inside. â¤ï¸</p>

                    <h4 class="font-bold text-pink-500 mt-6 mb-2">ğŸ•Šï¸ Saturday Memories</h4>
                    <p class="mb-4">From Siddhivinayak to Chowpatty, sharing headphones... time froze. I promise to always pray for you. ğŸš©ğŸ™</p>

                    <div class="marathi-poem">
                        <p class="font-bold mb-2 text-pink-600">ğŸŒŒ Ani Move On?</p>
                        "Vaat pahavi Janma itki, marna itki bhet havi.. janmo janmi talhathavar ek tujhi he resh havi." âœï¸<br><br>
                        He punarjanmachi bhakad Katha khari vyavi, Nidan pudhcya janmat tu Majhi asavi. ğŸ¥€<br>
                        Pudchya janmi tu Majhi asavi.
                    </div>

                    <p class="text-right font-bold text-pink-500 mt-6 pb-4">â€” Rajesh</p>
                </div>
            </div>
            <button id="openBtn" onclick="openCurtains()" class="mt-6 text-pink-500 font-bold animate-bounce underline">âœ¨ Click to Open âœ¨</button>
            <button id="memBtn" onclick="toMemories()" class="hidden mt-6 bg-[#f02e65] text-white px-8 py-3 rounded-full font-bold shadow-lg">ğŸ“· View Memories</button>
        </div>

        <div id="stage-memories" class="hidden w-full max-w-lg flex flex-col items-center space-y-8 pb-20 animate__animated animate__fadeIn">
            <h2 class="text-3xl font-bold text-pink-600 cursive">Our Memories</h2>
            <div class="bg-white p-2 shadow-xl rounded-2xl w-full">
                <video id="memoryVideo" controls class="w-full rounded-xl">
                    <source src="birthday_video.mp4" type="video/mp4">
                </video>
            </div>
            <div class="grid grid-cols-1 gap-4 w-full">
                <img src="photo1.jpg" class="rounded-xl shadow-lg border-4 border-white rotate-1">
                <img src="photo2.jpg" class="rounded-xl shadow-lg border-4 border-white -rotate-1">
            </div>
            <p class="text-2xl text-pink-600 font-bold text-center cursive">Forever Yours ğŸ’•</p>
        </div>

    </div>

    <audio id="player" src="music.mp3" loop></audio>

    <script>
        const birthdayDate = new Date(2026, 0, 19, 0, 0, 0).getTime();

        const timer = setInterval(function() {
            const now = new Date().getTime();
            const distance = birthdayDate - now;
            document.getElementById("days").innerText = Math.max(0, Math.floor(distance / (1000 * 60 * 60 * 24))).toString().padStart(2, '0');
            document.getElementById("hours").innerText = Math.max(0, Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).toString().padStart(2, '0');
            document.getElementById("mins").innerText = Math.max(0, Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60))).toString().padStart(2, '0');
            document.getElementById("secs").innerText = Math.max(0, Math.floor((distance % (1000 * 60)) / 1000)).toString().padStart(2, '0');

            if (distance < 0) {
                clearInterval(timer);
                document.getElementById("countdown-overlay").style.display = "none";
            }
        }, 1000);

        function toOnboarding() { document.getElementById('stage-start').classList.add('hidden'); document.getElementById('stage-onboarding').classList.remove('hidden'); }
        function move(idx) { document.getElementById('track').style.transform = `translateX(-${idx * 33.333}%)`; }
        function dodge() { const btn = document.getElementById('noBtn'); btn.style.position = 'absolute'; btn.style.left = Math.random() * 80 + '%'; btn.style.top = Math.random() * 80 + '%'; }
        function toParty() { document.getElementById('stage-onboarding').classList.add('hidden'); document.getElementById('stage-party').classList.remove('hidden'); }

        let pStep = 0;
        function advanceParty() {
            pStep++;
            const btn = document.getElementById('partyBtn');
            if(pStep === 1) {
                document.body.style.backgroundColor = "#2d1b4d";
                for(let i=0; i<8; i++) {
                    const l = document.createElement('div');
                    l.className = "w-4 h-4 rounded-full shadow-[0_0_15px_white] animate-pulse";
                    l.style.backgroundColor = ['#f43f5e', '#fbbf24', '#22c55e', '#3b82f6'][i%4];
                    document.getElementById('light-row').appendChild(l);
                }
                btn.innerText = "ğŸµ Play Music";
            } else if(pStep === 2) {
                document.getElementById('player').play();
                btn.innerText = "ğŸ‚ Bring Cake";
            } else if(pStep === 3) {
                const cake = document.getElementById('cake'); cake.classList.remove('hidden');
                setTimeout(() => cake.style.opacity = "1", 50);
                btn.innerText = "ğŸˆ Fly Balloons";
            } else if(pStep === 4) {
                for(let i=0; i<15; i++) {
                    setTimeout(() => {
                        const b = document.createElement('div'); b.className = "balloon"; b.innerText = "ğŸˆ";
                        b.style.left = Math.random() * 90 + 'vw'; document.body.appendChild(b);
                        setTimeout(() => b.remove(), 6000);
                    }, i * 300);
                }
                btn.innerText = "Read My Message";
            } else {
                document.getElementById('stage-party').classList.add('hidden');
                document.getElementById('stage-letter').classList.remove('hidden');
                document.body.style.backgroundColor = "#ffe4e6";
            }
        }

        function openCurtains() {
            document.getElementById('curt-l').style.transform = "translateX(-100%)";
            document.getElementById('curt-r').style.transform = "translateX(100%)";
            document.getElementById('openBtn').classList.add('hidden');
            document.getElementById('memBtn').classList.remove('hidden');
        }

        function toMemories() {
            document.getElementById('stage-letter').classList.add('hidden');
            document.getElementById('stage-memories').classList.remove('hidden');
            document.getElementById('memoryVideo').play();
            window.scrollTo(0,0);
        }

        setInterval(() => {
            const h = document.createElement('div'); h.innerHTML = 'â¤ï¸'; h.className = 'heart';
            h.style.left = Math.random() * 100 + 'vw'; h.style.animationDuration = (Math.random() * 3 + 4) + 's';
            document.getElementById('particles').appendChild(h);
            setTimeout(() => h.remove(), 7000);
        }, 600);
    </script>
</body>
</html>
