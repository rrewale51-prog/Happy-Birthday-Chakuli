<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birthday Surprise</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap');
        body { font-family: 'Quicksand', sans-serif; overflow-x: hidden; background-color: #ffe4e6; transition: background-color 2s ease; }
        
        /* Floating Hearts */
        .heart-bg { position: fixed; top: -10%; font-size: 20px; color: rgba(255, 105, 180, 0.5); animation: fall linear infinite; z-index: -1; }
        @keyframes fall { to { transform: translateY(110vh) rotate(360deg); } }

        /* Smooth Slide Transition */
        .slide-container { display: flex; transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1); width: 300%; }
        .slide { width: 33.33%; flex-shrink: 0; padding: 2rem; }

        /* The CSS Cake */
        .cake { position: relative; width: 150px; height: 120px; margin: 0 auto; z-index: 10; }
        .layer { position: absolute; width: 100%; border-radius: 10px; }
        .layer-top { height: 40%; background: #fee2e2; top: 0; border-bottom: 4px solid #f9a8d4; }
        .layer-mid { height: 40%; background: #fce7f3; top: 30%; border-bottom: 4px solid #fbcfe8; }
        .layer-bottom { height: 40%; background: #fdf2f8; top: 60%; }
        .candle { position: absolute; background: #fbbf24; width: 8px; height: 30px; top: -30px; left: 50%; transform: translateX(-50%); }
        .flame { position: absolute; background: orange; width: 10px; height: 15px; border-radius: 50% 50% 20% 20%; top: -15px; left: -1px; animation: flicker 0.1s infinite alternate; }
        @keyframes flicker { from { opacity: 0.8; } to { opacity: 1; } }

        /* Banner & Balloons */
        .flag { display: inline-block; animation: sway 3s ease-in-out infinite alternate; transform-origin: top; background: #f43f5e; color: white; padding: 5px 8px; border-radius: 0 0 5px 5px; margin: 2px; font-weight: bold; }
        @keyframes sway { from { transform: rotate(-5deg); } to { transform: rotate(5deg); } }
        
        .balloon { position: fixed; bottom: -100px; font-size: 3rem; animation: floatBalloon 6s ease-in forwards; z-index: 5; }
        @keyframes floatBalloon { 0% { bottom: -100px; transform: translateX(0); opacity: 1; } 50% { transform: translateX(20px); } 100% { bottom: 110vh; transform: translateX(-20px); opacity: 0; } }

        .curtain { transition: transform 2s ease-in-out; background: #991b1b; }
    </style>
</head>
<body>
    <div id="hearts-layer"></div>

    <div id="app" class="min-h-screen flex flex-col items-center justify-center overflow-hidden p-4">
        
        <div id="sec-start" class="text-center space-y-6">
            <h1 class="text-2xl font-bold text-gray-800">Happy Birthday <span class="text-pink-600">[Name]</span> ðŸŽ‚</h1>
            <p class="text-gray-500 italic">"Personalized Message"</p>
            <h2 class="text-5xl font-bold text-[#ff1493] drop-shadow-lg animate__animated animate__pulse animate__infinite">It's Your Birthday!</h2>
            <button onclick="goToOnboarding()" class="bg-[#f02e65] text-white px-12 py-4 rounded-full text-xl font-bold shadow-2xl mt-8">ðŸŽ€ Let's Celebrate</button>
        </div>

        <div id="sec-card" class="hidden bg-white rounded-[3rem] shadow-2xl w-full max-w-sm overflow-hidden border-4 border-white">
            <div id="slider" class="slide-container">
                <div class="slide text-center space-y-6">
                    <div class="text-4xl">âœ¨</div>
                    <h3 class="text-2xl font-bold text-gray-800">It's Your Special Day Yeyey!</h3>
                    <button onclick="moveSlider(1)" class="bg-[#f02e65] text-white w-full py-4 rounded-2xl font-bold">Next</button>
                </div>
                <div class="slide text-center space-y-6">
                    <div class="text-4xl">âœ¨</div>
                    <h3 class="text-xl font-bold text-gray-800">Do you wanna see what I made??</h3>
                    <div class="flex gap-4">
                        <button onclick="moveSlider(2)" class="bg-[#f02e65] text-white flex-1 py-3 rounded-2xl font-bold">Yes!</button>
                        <button onclick="alert('Wrong Answer! ðŸ˜‰')" class="bg-purple-600 text-white flex-1 py-3 rounded-2xl font-bold">No</button>
                    </div>
                </div>
                <div class="slide text-center space-y-6">
                    <div class="text-4xl">âœ¨</div>
                    <h3 class="text-xl font-bold text-gray-800">Have a look at it, Madam Jiii</h3>
                    <button onclick="startParty()" class="bg-[#f02e65] text-white w-full py-4 rounded-2xl font-bold">Let's Go! ðŸŽ‰</button>
                </div>
            </div>
            <div class="flex justify-center gap-2 pb-8">
                <div id="dot0" class="w-2 h-2 rounded-full bg-pink-500 transition-all"></div>
                <div id="dot1" class="w-2 h-2 rounded-full bg-gray-200 transition-all"></div>
                <div id="dot2" class="w-2 h-2 rounded-full bg-gray-200 transition-all"></div>
            </div>
        </div>

        <div id="sec-party" class="hidden w-full flex flex-col items-center">
            <h2 id="party-title" class="text-3xl font-bold text-pink-600 mb-8">Let's Celebrate! ðŸ¥³</h2>
            <div id="lights" class="flex gap-3 h-6 mb-12"></div>
            
            <button id="mainBtn" onclick="runParty()" class="bg-yellow-400 text-gray-900 px-10 py-3 rounded-full font-bold shadow-xl z-50">ðŸ’¡ Turn On the Lights</button>

            <div id="banner" class="hidden mt-12 flex flex-wrap justify-center gap-1 z-10"></div>

            <div id="cake-box" class="hidden mt-12 animate__animated animate__slideInUp">
                <div class="cake">
                    <div class="candle"><div class="flame"></div></div>
                    <div class="layer layer-bottom"></div>
                    <div class="layer layer-mid"></div>
                    <div class="layer layer-top"></div>
                </div>
            </div>
        </div>

        <div id="sec-final" class="hidden w-full max-w-4xl flex flex-col items-center space-y-12">
            <div class="w-full max-w-sm">
                <h2 class="text-xl font-bold text-pink-600 mb-4 text-center">ðŸ’Œ A Message From My Heart</h2>
                <div class="relative w-full h-80 bg-white rounded-3xl shadow-2xl overflow-hidden border-4 border-white">
                    <div id="l-curt" class="curtain absolute inset-y-0 left-0 w-1/2 z-20 border-r border-yellow-400"></div>
                    <div id="r-curt" class="curtain absolute inset-y-0 right-0 w-1/2 z-20 border-l border-yellow-400"></div>
                    <div class="p-8 h-full overflow-y-auto text-left italic text-gray-700 leading-relaxed text-sm">
                        <p class="font-bold text-pink-600 mb-4">Dearest Madam Jiii,</p>
                        <p>Write your beautiful letter here...</p>
                        <p class="mt-6 font-bold">Forever Yours â€” [Your Name]</p>
                    </div>
                </div>
                <button id="openBtn" onclick="openLetter()" class="mt-4 w-full text-pink-500 font-bold underline">âœ¨ Click to Open âœ¨</button>
            </div>

            <div id="gallery-section" class="hidden animate__animated animate__fadeIn w-full text-center space-y-8">
                <h2 class="text-3xl font-bold text-pink-600 italic">ðŸ“· Our Beautiful Memories ðŸ“·</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <img src="photo1.jpg" class="rounded-xl shadow-lg border-4 border-white">
                    <img src="photo2.jpg" class="rounded-xl shadow-lg border-4 border-white">
                    <img src="photo3.jpg" class="rounded-xl shadow-lg border-4 border-white">
                </div>
                <div class="pb-20">
                    <p class="text-2xl text-pink-600 font-bold">ðŸ’• Forever Yours â€” [Your Name] ðŸ’•</p>
                    <p class="text-gray-500 mt-2">Personalized closing message ðŸ¦„</p>
                </div>
            </div>
        </div>

    </div>

    <audio id="music" src="your-music-file.mp3" loop></audio>

    <script>
        // Heart Animation
        setInterval(() => {
            const h = document.createElement('div');
            h.innerHTML = Math.random() > 0.5 ? 'â¤ï¸' : 'ðŸ’–';
            h.className = 'heart-bg';
            h.style.left = Math.random() * 100 + 'vw';
            h.style.animationDuration = (Math.random() * 3 + 4) + 's';
            document.getElementById('hearts-layer').appendChild(h);
            setTimeout(() => h.remove(), 7000);
        }, 500);

        function goToOnboarding() {
            document.getElementById('sec-start').classList.add('hidden');
            document.getElementById('sec-card').classList.remove('hidden');
        }

        function moveSlider(index) {
            document.getElementById('slider').style.transform = `translateX(-${index * 33.33}%)`;
            for(let i=0; i<3; i++) {
                document.getElementById(`dot${i}`).className = `w-2 h-2 rounded-full ${i===index ? 'bg-pink-500' : 'bg-gray-200'}`;
            }
        }

        function startParty() {
            document.getElementById('sec-card').classList.add('hidden');
            document.getElementById('sec-party').classList.remove('hidden');
        }

        let step = 0;
        function runParty() {
            step++;
            const btn = document.getElementById('mainBtn');
            if(step === 1) { // Lights
                document.body.style.backgroundColor = "#2d1b4d";
                document.getElementById('party-title').style.color = "white";
                for(let i=0; i<12; i++) {
                    setTimeout(() => {
                        const l = document.createElement('div');
                        l.className = "w-4 h-4 rounded-full shadow-[0_0_15px_white] animate__animated animate__flash animate__infinite";
                        l.style.backgroundColor = ['#ff4d4d', '#ffff4d', '#4dff4d', '#4dffff'][i%4];
                        document.getElementById('lights').appendChild(l);
                    }, i * 200);
                }
                btn.innerText = "ðŸŽµ Play Music";
            } else if(step === 2) { // Music
                document.getElementById('music').play();
                btn.innerText = "ðŸŽ¨ Decorate";
            } else if(step === 3) { // Banner & Cake
                document.getElementById('banner').classList.remove('hidden');
                "HAPPY BIRTHDAY".split('').forEach((c, i) => {
                    const f = document.createElement('div');
                    f.innerText = c === ' ' ? '\u00A0' : c; f.className = "flag";
                    f.style.animationDelay = `${i * 0.1}s`;
                    document.getElementById('banner').appendChild(f);
                });
                document.getElementById('cake-box').classList.remove('hidden');
                btn.innerText = "ðŸŽˆ Fly The Balloons";
            } else if(step === 4) { // Balloons
                for(let i=0; i<30; i++) {
                    setTimeout(() => {
                        const b = document.createElement('div');
                        b.className = "balloon";
                        b.innerText = ['ðŸŽˆ', 'ðŸ’–', 'âœ¨'][Math.floor(Math.random()*3)];
                        b.style.left = Math.random() * 90 + 'vw';
                        document.body.appendChild(b);
                        setTimeout(() => b.remove(), 6000);
                    }, i * 200);
                }
                btn.innerText = "Well, I have a message for you Madam Ji";
            } else {
                document.getElementById('sec-party').classList.add('hidden');
                document.getElementById('sec-final').classList.remove('hidden');
                document.body.style.backgroundColor = "#ffe4e6";
            }
        }

        function openLetter() {
            document.getElementById('l-curt').style.transform = "translateX(-100%)";
            document.getElementById('r-curt').style.transform = "translateX(100%)";
            document.getElementById('openBtn').classList.add('hidden');
            document.getElementById('gallery-section').classList.remove('hidden');
        }
    </script>
</body>
</html>
